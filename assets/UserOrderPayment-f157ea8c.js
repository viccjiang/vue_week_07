import{_ as h,o as r,b as d,d as t,t as e,F as a,D as p,h as u,f as m}from"./index-3db46a33.js";const{VITE_APP_URL:_,VITE_APP_PATH:l}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jiangs2023",BASE_URL:"/vue_week_07/",MODE:"production",DEV:!1,PROD:!0},y={data(){return{order:{user:{}},orderId:""}},methods:{getOrder(){const n=`${_}api/${l}/order/${this.orderId}`;this.$http.get(n).then(o=>{o.data.success&&(this.order=o.data.order,console.log(this.order))})},payOrder(){const n=`${_}v2/api/${l}/pay/${this.orderId}`;this.$http.post(n).then(o=>{o.data.success&&(this.order.is_paid=!0,this.$router.push({path:"/order_completed",query:{id:this.orderId}}),this.getOrder())})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},b={class:"bg-light pt-5 pb-7 mt-5"},w={class:"container"},f={class:"row justify-content-center flex-column flex-md-row"},g={class:"col-md-8 sticky-lg-top position-lg-sticky h-50"},v={class:"border rounded-4 p-4 mb-4"},P=t("div",{class:"d-flex justify-content-between"},[t("h4",{class:"mb-4"},"訂購資訊"),t("button",{type:"button",class:"btn btn-outline-primary"},"複製訂單編號")],-1),x={class:"table align-middle"},k={class:"align-middle"},I=t("th",{scope:"col"},"訂購編號",-1),E={scope:"col"},O=t("th",{scope:"col"},"訂購日期",-1),V={scope:"col"},A=t("th",{scope:"row"},"姓名",-1),T=t("th",{scope:"row"},"Email",-1),D=t("th",{scope:"row"},"電話",-1),B={scope:"row"},L=t("th",{scope:"row"},"地址",-1),R={scope:"row"},U=t("th",{scope:"row"},"訂購產品",-1),j={scope:"row"},N={class:"w-100"},q={class:""},C={class:"mb-0"},F={class:"mb-0"},H=t("th",{scope:"row"},"付款金額",-1),S={scope:"row"},M=t("th",{scope:"row"},"付款方式",-1),$={scope:"row"},z=t("th",{scope:"row"},"付款狀態",-1),G={scope:"row"},J={key:0,class:"text-danger"},K={key:1,class:"text-success"};function Q(n,o,W,X,s,i){return r(),d("div",b,[t("div",w,[t("div",f,[t("div",g,[t("div",v,[P,t("table",x,[t("thead",null,[t("tr",k,[I,t("th",E,[t("span",null,e(s.order.id),1)])])]),t("tbody",null,[t("tr",null,[O,t("td",V,e(s.order.create_at),1)]),t("tr",null,[A,t("td",null,e(s.order.user.name),1)]),t("tr",null,[T,t("td",null,e(s.order.user.email),1)]),t("tr",null,[D,t("td",B,e(s.order.user.tel),1)]),t("tr",null,[L,t("td",R,e(s.order.user.address),1)]),t("tr",null,[U,t("td",j,[(r(!0),d(a,null,p(s.order.products,c=>(r(),d("div",{class:"",key:c.id},[t("div",N,[t("div",q,[t("p",C,[m(e(c.product.title)+" ",1),t("span",F," x "+e(c.qty),1)])])])]))),128))])]),t("tr",null,[H,t("td",S,e(s.order.total),1)]),t("tr",null,[M,t("td",$,e(s.order.user.shipping),1)]),t("tr",null,[z,t("td",G,[s.order.is_paid?(r(),d("span",K,"付款完成")):(r(),d("span",J,"未付款"))])])])])]),s.order.is_paid?u("",!0):(r(),d("button",{key:0,type:"button",class:"btn btn-primary float-end",onClick:o[0]||(o[0]=(...c)=>i.payOrder&&i.payOrder(...c))},"確認付款"))])])])])}const Z=h(y,[["render",Q]]);export{Z as default};
