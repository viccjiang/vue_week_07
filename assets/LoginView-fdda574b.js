import{_ as h}from"./Vector-31bbd573.js";import{_ as b,r as n,o as w,b as v,d as e,e as i,w as p,D as x,p as k,i as V,f as y}from"./index-764b8113.js";const{VITE_APP_URL:B}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jiangs2023",BASE_URL:"/vue_week_07/",MODE:"production",DEV:!1,PROD:!0},F={data(){return{user:{username:"",password:""}}},methods:{login(){const t=this.user;this.$http.post(`${B}admin/signin`,t).then(s=>{if(s.data.success){const{token:r,expired:d}=s.data;document.cookie=`jiangvue3=${r};expires=${new Date(d)};`,this.$router.push("/admin")}else console.log(s.data.message),this.user.username="",this.user.password=""}).catch(s=>{console.dir(s.data.message)})},goBack(){this.$router.push("/")}}},o=t=>(k("data-v-c783ef02"),t=t(),V(),t),E={class:"container py-5 vh-100"},R={class:"row d-flex justify-content-center align-items-center h-100"},P={class:"col col-xl-10"},I={class:"card",style:{"border-radius":"1rem"}},L={class:"row g-0"},z=o(()=>e("div",{class:"col-md-6 col-lg-5 d-none d-md-block"},[e("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/jiangs2023/1673936209323.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=XKARezhpB%2BB4ydZYqOXEGO20Y84ZhUsdDDlSY2gSmws2bpL6XJ2Fb7bHCLQfejWFsuOxeBiMer4Vky8Q5FVqk3z%2FckqpgqNQb4OHOlnxahugf4uk6lW2FnhNOKhCbfj%2FUZ44%2BFA7FbkzS2Za3RVzNzHzzwo5kViMvdfZJR0vij0zd%2B8fIJoG0O3QJ%2B3X2lqD853pDZF2d5kxh6sJI7gH%2FRrwtLXWNjwINuKKuh5ugmNeLPLerFwqZDNG9UbB5vnjCamhTfrEbgMER%2B2FPU1ifmHAEUB1FQGgTgrBS2B2UK8XoLceVnINRUzqbZzc2AFoCbgwuNe9P9CBVwRcwHHaoQ%3D%3D",alt:"login form",class:"img-fluid h-100",style:{"border-radius":"1rem 0 0 1rem"}})],-1)),S={class:"col-md-6 col-lg-7 d-flex align-items-center"},j={class:"card-body p-4 p-lg-5 text-black"},D={class:"align-items-center"},N=o(()=>e("div",{class:"d-flex justify-content-center",href:"#"},[e("img",{src:h,alt:"Logo",width:"60",height:"60",class:"d-inline-block align-text-top me-3"}),e("div",{class:"mb-5"},[e("p",{class:"fs-xl fw-bold"},"清晨一點甜"),e("p",{class:"logoText fs-lg p-0 m-0"},[y("SOME SWEET "),e("span",{class:"fs-xs fw-lighter"},"/am")])])],-1)),U=o(()=>e("h6",{class:"fw-normal my-5",style:{"letter-spacing":"1px"}},"管理者請先登入",-1)),A={class:"form-floating mb-3"},O=o(()=>e("label",{for:"floatingInput",class:"text-muted"},"輸入 Email 帳號",-1)),q={class:"form-floating"},C=o(()=>e("label",{for:"floatingPassword",class:"text-muted"}," 輸入 Password 密碼",-1)),T={class:"d-flex d-grid gap-2"},H=o(()=>e("button",{class:"btn btn-lg btn-primary w-100 mt-3 mb-3"}," 立即登入 ",-1)),Z=o(()=>e("div",{class:"d-flex justify-content-between align-items-center"},[e("div",{class:"form-check mb-0"},[e("input",{class:"form-check-input me-2",type:"checkbox",value:"",id:"formRemenber"}),e("label",{class:"form-check-label",for:"formRemenber"}," Remember me ")]),e("a",{href:"#",class:"small text-muted"},"Forgot password?")],-1));function M(t,s,r,d,a,c){const _=n("RouterLink"),m=n("FieldView"),g=n("ErrorMessage"),f=n("FormView");return w(),v("div",E,[e("div",R,[e("div",P,[e("div",I,[e("div",L,[z,e("div",S,[e("div",j,[e("div",D,[i(_,{to:"/",class:""},{default:p(()=>[N]),_:1})]),i(f,{class:"form-signin p-0 mt-5",onSubmit:c.login},{default:p(({errors:u})=>[U,e("div",A,[i(m,{type:"email",name:"email",class:x(["form-control",{"is-invalid":u.email,"is-valid":a.user.username&&!u.email}]),modelValue:a.user.username,"onUpdate:modelValue":s[0]||(s[0]=l=>a.user.username=l),id:"floatingInput",rules:"email",placeholder:"name@example.com",required:"",autofocus:""},null,8,["modelValue","class"]),O,i(g,{name:"email",class:"invalid-feedback"})]),e("div",q,[i(m,{type:"password",name:"password",class:"form-control",modelValue:a.user.password,"onUpdate:modelValue":s[1]||(s[1]=l=>a.user.password=l),id:"floatingPassword",placeholder:"Password",required:""},null,8,["modelValue"]),C]),e("div",T,[e("button",{class:"btn btn-lg btn-outline-primary w-100 mt-3 mb-3",type:"button",onClick:s[2]||(s[2]=(...l)=>c.goBack&&c.goBack(...l))}," 回到首頁 "),H]),Z]),_:1},8,["onSubmit"])])])])])])])])}const G=b(F,[["render",M],["__scopeId","data-v-c783ef02"]]);export{G as default};
